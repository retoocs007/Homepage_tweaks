body, html {
  background-color: #0F243B;
}

/* === STARFIELD === */
:root{
  --stars-color: #fff;
  --far-tile: 192px;
  --near-tile: 208px;
  --far-opacity: .35;
  --near-opacity: .70;
  --far-speed: 48s;
  --near-speed: 22s;
  --far-steps: 600;
  --near-steps: 600;
}

/* make #background a containing block */
#background { position: relative; overflow: hidden; }

/* FAR layer — transform scroll */
#background::before{
  content:"";
  position:absolute;
  /* extend beyond viewport so we can slide by one tile without gaps */
  --tile: var(--far-tile);
  top: calc(var(--tile) * -1);
  left: calc(var(--tile) * -1);
  right: calc(var(--tile) * -1);
  bottom: calc(var(--tile) * -1);
  z-index:3;
  pointer-events:none;

  contain: paint;
  will-change: transform;
  backface-visibility: hidden;
  transform: translate3d(0,0,0);

  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='192' height='192' viewBox='0 0 192 192'>\
  <rect width='192' height='192' fill='transparent'/>\
  <g fill='white' fill-opacity='1.0'>\
     <circle cx='10' cy='18' r='0.5'/>\
    <circle cx='35' cy='42' r='0.9'/>\
    <circle cx='72' cy='12' r='0.7'/>\
    <circle cx='95' cy='80' r='1.2'/>\
    <circle cx='120' cy='30' r='1.2'/>\
    <circle cx='150' cy='65' r='0.9'/>\
    <circle cx='22' cy='95' r='0.8'/>\
    <circle cx='58' cy='70' r='0.5'/>\
    <circle cx='80' cy='160' r='1.0'/>\
    <circle cx='160' cy='140' r='1.4'/>\
    <circle cx='40' cy='155' r='1.2'/>\
    <circle cx='8' cy='175' r='0.6'/>\
  </g>\
</svg>");
  background-size: var(--tile) var(--tile);
  background-repeat: repeat;
  opacity: var(--far-opacity);

  animation: 
    tileTranslate var(--far-speed) steps(var(--far-steps), end) infinite;
}

/* NEAR layer — transform scroll (no opacity tween) */
#background::after{
  content:"";
  position:absolute;
  --tile: var(--near-tile);
  top: calc(var(--tile) * -1);
  left: calc(var(--tile) * -1);
  right: calc(var(--tile) * -1);
  bottom: calc(var(--tile) * -1);
  z-index:4;
  pointer-events:none;

  contain: paint;
  will-change: transform;
  backface-visibility: hidden;
  transform: translate3d(0,0,0);

  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='208' height='208' viewBox='0 0 208 208'>\
  <rect width='208' height='208' fill='transparent'/>\
  <g fill='white'>\
    <circle cx='25' cy='60' r='1.7'/>\
    <circle cx='140' cy='30' r='1.3'/>\
    <circle cx='80' cy='120' r='1.4'/>\
    <circle cx='190' cy='180' r='1.3'/>\
    <circle cx='60' cy='16'  r='1.8'/>\
    <circle cx='12' cy='190' r='1.2'/>\
    <circle cx='118' cy='172' r='1.3'/>\
    <circle cx='45' cy='40'  r='1.6'/>\
    <circle cx='95' cy='75'  r='1.2'/>\
    <circle cx='165' cy='22' r='1.5'/>\
  </g>\
</svg>");
  background-size: var(--tile) var(--tile);
  background-repeat: repeat;
  opacity: var(--near-opacity);

  animation:
    tileTranslate var(--near-speed) steps(var(--near-steps), end) infinite;
}

/* move the layer by exactly one tile so the loop is seamless */
@keyframes tileTranslate{
  to { transform: translate3d(calc(var(--tile) * -1), calc(var(--tile) * -1), 0); }
}

/* lightweight opacity twinkle - not used currently */
@keyframes twinkle {
  0%, 100% { opacity: var(--near-opacity); }
  50%      { opacity: 1; }
}


/* === FOG === */
:root{
  --fog-tile: 640px;      /* size of the seamless tile */
  --fog-opacity: 0.05;    /* overall fog strength */
  --fog-speed: 10s;      /* time to drift one tile diagonally */
  --fog-steps: 320;
}

/* Oversized fixed layer that slides by exactly one tile via transform */
body::before{
  content:"";
  position: fixed;
  /* extend one tile beyond each edge so we can slide without exposing gaps */
  top:    calc(var(--fog-tile) * -1);
  left:   calc(var(--fog-tile) * -1);
  right:  calc(var(--fog-tile) * -1);
  bottom: calc(var(--fog-tile) * -1);
  z-index: 2;
  pointer-events: none;
  opacity: var(--fog-opacity);

  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='640' height='640' viewBox='0 0 640 640'>\
  <defs>\
    <filter id='fog' x='0' y='0' width='100%' height='100%'>\
      <feTurbulence type='fractalNoise' baseFrequency='0.012 0.018' numOctaves='2' seed='7' stitchTiles='stitch' result='n'/>\
      <feComponentTransfer in='n'>\
        <feFuncR type='table' tableValues='1 1'/>\
        <feFuncG type='table' tableValues='1 1'/>\
        <feFuncB type='table' tableValues='1 1'/>\
        <feFuncA type='table' tableValues='0 0.12 0.2 0.3 0.42 0.55 0.7 0.85'/>\
      </feComponentTransfer>\
    </filter>\
  </defs>\
  <rect width='640' height='640' filter='url(%23fog)'/>\
</svg>");
  background-size: var(--fog-tile) var(--fog-tile);
  background-repeat: repeat;

  /* GPU-friendly drift */
  animation: fogDrift var(--fog-speed) steps(var(--fog-steps), end) infinite;

  /* performance hints */
  will-change: transform, opacity;
  contain: paint;
  backface-visibility: hidden;
}

/* Move exactly one tile diagonally; start and end frames are identical ? seamless loop */
@keyframes fogDrift{
  from { transform: translate3d(0, 0, 0); }
  to   { transform: translate3d(calc(var(--fog-tile) * -1), calc(var(--fog-tile) * -1), 0); }
}


.relative.container.m-auto.flex.flex-col.justify-start.z-10.h-full {
  max-width:100%;
  margin:0;
  margin-left:0;
  margin-right:0;
}

.relative.z-40.ease-in-out.duration-300.transition-opacity.hidden opacity-0{

}

/* Default: Apply bookmark-like background to the entire button (row) when not expanded */
.bookmark-group button[aria-expanded="false"] {
    background-color: hsla(0,0%,100%,.05); /* Example light background */
    backdrop-filter: blur(24px); /* Optional blur effect */
    border-radius: 0.5rem; /* Rounded corners */
    padding: 0.5rem; /* Inner spacing for the row */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* Subtle shadow */
    display: flex; /* Ensure it behaves as a row */
    align-items: center; /* Vertically center content */
    transition: background 0.3s ease, box-shadow 0.3s ease; /* Smooth transitions */
}

/* Default: Text is visible */
.bookmark-group button[aria-expanded="false"] .bookmark-group-name {
  color: rgb(var(--color-300)/1);
  font-size: 1em;
}
/* before>>> color: rgb(var(--color-300)/var(--tw-text-opacity));  */


/* When expanded: Text becomes transparent */
.bookmark-group button[aria-expanded="true"] .bookmark-group-name {
  color: transparent;
}


/* Show SVG arrow when not expanded */
.bookmark-group button[aria-expanded="false"] svg {
    opacity: 1; /* Make it visible */
    transform: rotate(0deg); /* Ensure it's pointing in the desired direction */
    transition: transform 0.3s ease, opacity 0.3s ease; /* Smooth transition */
}

#information-widgets {
    margin-top: 1em;
}

#footer {
    padding-top: 0;
    padding-bottom: 1em;
    padding-left: 2rem;
    padding-right: 2rem;
}

#layout-groups {
  margin-top: 2rem;
  margin-right: 2rem;
  margin-bottom: 1em;
  margin-left: 2rem;
}